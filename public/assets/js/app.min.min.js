$(document).ready(function(){$.ajaxSetup({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")}});toastr.options={closeButton:false,debug:false,positionClass:"toast-top-right",onclick:null,showDuration:"300",hideDuration:"1000",timeOut:"2500",extendedTimeOut:"1000",showEasing:"swing",hideEasing:"linear",showMethod:"fadeIn",hideMethod:"fadeOut"};$(".bk_top").bind("click",function(c){var d=$(this);$("html, body").stop().animate({scrollTop:$(d.attr("href")).offset().top},1000,"easeInOutExpo");c.preventDefault()});$(window).scroll(function(b){if($(window).scrollTop()>50){$("body").addClass("show")}else{$("body").removeClass("show")}});addBinds();$(document.body).on("show.fa.modal",".fly-add",function(c,d){addBinds($(d))});$('input[name="contact_type"]').click(function(){$(this).tab("show")});if($(".product_tab_type").length>0){$(".product_tab_type").on("change",function(){var e=$(this).val();var d=$(this).closest(".product_info");var f=d.find(".product_tab_text");if(e==""){d.find(".tab_custom_text_group").addClass("hidden");f.val("")}else{d.find(".tab_custom_text_group").removeClass("hidden")}})}if($(".tab_text_select").length>0){$(".tab_text_select").on("change",function(){var e=$(this).val();var d=$(this).closest("td");var f=d.find(".tab_custom_text");if(e==""){d.find(".tab_custom_text_group").addClass("hidden");f.val("")}else{d.find(".tab_custom_text_group").removeClass("hidden")}})}});$(window).on("load",function(){equalheight(".eh");$.each($('input[name="contact_type"]'),function(d,c){if($(c).prop("checked")){$(c).tab("show")}})});$(window).resize(function(){equalheight(".eh")});equalheight=function(g){var h=0,l=0,i=new Array(),j,k=0;$(g).each(function(){j=$(this);$(j).height("auto");k=j.position().top;if(l!=k){for(currentDiv=0;currentDiv<i.length;currentDiv++){i[currentDiv].height(h)}i.length=0;l=k;h=j.height();i.push(j)}else{i.push(j);h=(h<j.height())?(j.height()):(h)}for(currentDiv=0;currentDiv<i.length;currentDiv++){i[currentDiv].height(h)}})};function removeItem(){var d=$(this).data("remove");var c=$(this).closest("tr");$.ajax({url:d,method:"DELETE",success:function(a){c.remove();toastr.success(a.message)}})}function addBinds(b){if(!b){b=$(document.body)}if(b.find(".btn-file").length>0){b.on("change",".btn-file :file",function(){var a=$(this),e=a.get(0).files?a.get(0).files.length:1,f=a.val().replace(/\\/g,"/").replace(/.*\//,"");a.trigger("fileselect",[e,f])});b.find(".btn-file :file").on("fileselect",function(h,g,j){var a=$(this).parents(".input-group").find(":text"),i=g>1?g+" files selected":j;if(a.length){a.val(i)}else{if(i){alert(i)}}})}if(b.find(".chosen-select").length>0){b.find(".chosen-select").chosen({width:"100%",allow_single_deselect:true})}if(b.find("[data-toggle=confirmation]").length>0){b.find("[data-toggle=confirmation]").confirmation({rootSelector:"[data-toggle=confirmation]",singleton:true,onConfirm:removeItem,container:"body"})}}function getTableRow(c,d){if(c.view_url){$.ajax({url:c.view_url,data:c,success:function(a){d.replaceWith(a);$(document.body).find(".fly-add").flyadd();addBinds()}})}}var addTableRow=function(d,e){var f=$("<tr></tr>");getTableRow(d,f);$(e).append(f)};var editTableRow=function(d,e){var f=$("<tr></tr>");getTableRow(d,f);$(e).replaceWith(f)};$(document.body).ready(function(){$(".add-to-cart").on("click",function(d){d.preventDefault();var c=$("#product");$.ajax({url:c.attr("action"),method:"POST",data:c.serialize(),success:function(a){toastr.success(a.message)},error:function(b){var a=b.responseJSON;$.each(a,function(h,g){toastr.error(g)})}})});$('input[name="choice"]').click(function(){$(this).tab("show")})});$(window).on("load",function(){$.each($('input[name="choice"]'),function(d,c){if($(c).prop("checked")){$(c).tab("show")}})});(function($){var defaultOptions={destination:"",dataForm:"form",submitHandler:"input[type=submit]",uploadFile:null,onLoad:function(){}};var flyAdd=function(element,options){this.$element=$(element);this.$modal=$('<div class="modal fade fly-add-modal" role="dialog" aria-hidden="true"><div class="modal-dialog"><div class="modal-content"><div class="modal-body"></div></div></div></div>');this.$onProcess;this.$parent_modal;this.build(options)};flyAdd.prototype={constructor:flyAdd,build:function(options){var self=this;self.$options=$.extend({},defaultOptions,options,self.$element.data());self.$parent_modal=self.$element.closest("div.modal");var e=$.Event("init.fa.modal");self.$element.trigger(e,self.$modal);self.$element.on("click",$.proxy(function(event){event.preventDefault();if(self.$element.data("source")&&self.$element.data("source")!==self.$options.source){self.$options.source=self.$element.data("source")}else{if(!self.$element.data("source")){self.$options.source="";return}}if(self.$parent_modal.length>0){self.$parent_modal.modal("hide")}self.load()}));self.$modal.on("shown.bs.modal",function(e){self.$onProcess=true;if(self.$parent_modal.length>0){$(document.body).addClass("modal-open")}var e=$.Event("show.fa.modal");self.$element.trigger(e,self.$modal)});self.$modal.on("hidden.bs.modal",function(){if(self.$parent_modal.length>0){self.$parent_modal.modal("show")}self.$onProcess=false;var e=$.Event("hide.fa.modal");self.$element.trigger(e,self.$modal)});self.$modal.on("click",self.$options.submitHandler,$.proxy(function(event){if(event){event.preventDefault()}event=$.Event("handler.fa.click");self.$element.trigger(event,[this,self.$modal]);if(self.$onProcess){self.save(this)}}))},load:function(){var self=this;if(self.$options.source){self.$modal.find(".modal-body").load(self.$options.source,$.proxy(function(){this.$element.trigger("load.fa.modal",this.$modal);this.$options.onLoad(this.$modal);this.$modal.find("input[data-role=fly-add], button[data-role=fly-add], a[data-role=fly-add]").flyadd();if(self.$options.destination==""&&self.$options.dataForm=="form"){self.$options.destination=self.$modal.find("form").attr("action")}},self));self.$modal.modal("show")}},save:function(handler){var self=this;var $dataForm=self.$modal.find(self.$options.dataForm);var $url=self.$options.destination;var $data=$dataForm.serialize();if(self.$options.uploadFile===null){var $processData=true,$data=$dataForm.serialize()}else{var $processData=false,$data=new FormData();$.each($dataForm.serializeArray(),function(i,field){$data.append(field.name,field.value)});$.each($dataForm.find(self.$options.uploadFile),function(i,field){if($(field).prop("files")[0]){$data.append(field.name,$(field).prop("files")[0])}})}self.$modal.find("div.has-error").removeClass("has-error");self.$modal.find("small.help-block").remove();if($url){$.ajax({url:$url,method:"POST",data:$data,dataType:"json",processData:$processData,contentType:$processData?"application/x-www-form-urlencoded; charset=UTF-8":false,success:function(data){self.$element.trigger("success.fa.submit",[data,self.$modal,self.$options]);if(self.$options.onSuccess&&self.$options.target!=""){var handler=$(document.body).find(self.$options.target);eval(self.$options.onSuccess+"(data, handler)")}self.$element.trigger("after.fa.submit",[handler,self.$modal]);self.$modal.modal("hide")},error:function(data){self.$element.trigger("error.fa.submit",[data,self.$modal,self.$options]);var errors=data.responseJSON;$.each(errors,function(key,value){var $element=self.$modal.find('[name="'+key+'"]');$element.closest("div").addClass("has-error").append('<small class="help-block">'+value+"</small>")});self.$element.trigger("after.fa.submit",[handler,self.$modal])}})}}};$.fn.flyadd=function(option){return this.each(function(){var $this=$(this);var data=$this.data("flyadd");var options=$.extend({},defaultOptions,$this.data(),option);if(!data){$this.data("flyadd",(data=new flyAdd(this,options)))}})};$.fn.flyadd.Constructor=flyAdd;$(function(){$("input[data-role=fly-add], button[data-role=fly-add], a[data-role=fly-add]").flyadd()})})(window.jQuery);$(document.body).ready(function(){$(document.body).on("click",".items-list #item-add",function(h){h.preventDefault();var e=$(".items-list tbody tr").length;var g=0;if(e>1){g=$(".items-list tbody tr:eq(-2)").data("id")+1}var f=$($("#prototype tbody").html().replace(/_id_/g,g));f.find("select").addClass("chosen-select");addBinds(f);$(".items-list tbody").find("tr:last").before(f)});$(document.body).on("click",".items-list .item-remove",function(d){d.preventDefault();var c=$(this).closest("tr");c.remove()});$(document.body).on("change",".items-list .product_id",function(){var f=$(this).closest("tr");var d=f.find(".colour_id").first();var e=f.find(".size_id").first();if(!$(this).val()){updateSelect(d,{});updateSelect(e,{});return}$.ajax({url:$(this).data("url")+"/"+$(this).val(),method:"GET",success:function(b){updateSelect(d,b.colours);var a={};$.each(b.variants,function(h,c){a[c.size.id]=c.size});updateSelect(e,a)}})})});function updateSelect(d,c){d.html("");d.trigger("chosen:updated");$.each(c,function(b,a){d.append('<option value="'+a.id+'">'+a.name+"</option>")});d.trigger("chosen:updated")}$(document).ready(function(){$(".slider-nav").slick({slidesToShow:4,slidesToScroll:1,infinite:true,dots:false,arrows:true,focusOnSelect:true});$(".slick-current").addClass("active");$(".slick-slide").click(function(b){$(this).addClass("active");$(this).siblings().removeClass("active")});$(".product-photos .remove-item").click(function(g){g.preventDefault();var h=$(this).closest(".photo-item");var e=h.index(".photo-item");var f=$(this).data("remove-url");$.ajax({url:f,method:"DELETE",success:function(a){location.reload()}})})});function addProductPhoto(c,d){location.reload()}var itemPosition;$(document).ready(function(){if($(".table-sortable").length>0){$(".table-sortable").sortable({items:"tbody > tr",stop:function(d,c){itemSortableStopCallback(this)}})}$(".sortable-action .save").on("click",function(b){b.preventDefault();$.ajax({method:"POST",data:$("#sortable-form").serialize(),success:function(a){var d=$(".sortable-action");if(d.hasClass("active")){d.removeClass("active")}toastr.success(a.message)}})})});function itemSortableStopCallback(d){$element=$(d);var c=$element.find(".sortable-action");if(!c.hasClass("active")){c.addClass("active")}$element.find("tbody > tr").each(function(a){console.log($(this));var b=a+1;$(this).find(".item-sort_order").first().val(b);$(this).find(".position").html(b)})};