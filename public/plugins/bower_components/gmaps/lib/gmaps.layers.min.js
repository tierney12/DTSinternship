GMaps.prototype.getFromFusionTables=function(b){var d=b.events;delete b.events;var a=b,c=new google.maps.FusionTablesLayer(a);for(var e in d){(function(g,f){google.maps.event.addListener(g,f,function(h){d[f].apply(this,[h])})})(c,e)}this.layers.push(c);return c};GMaps.prototype.loadFromFusionTables=function(a){var b=this.getFromFusionTables(a);b.setMap(this.map);return b};GMaps.prototype.getFromKML=function(b){var a=b.url,d=b.events;delete b.url;delete b.events;var f=b,c=new google.maps.KmlLayer(a,f);for(var e in d){(function(h,g){google.maps.event.addListener(h,g,function(i){d[g].apply(this,[i])})})(c,e)}this.layers.push(c);return c};GMaps.prototype.loadFromKML=function(a){var b=this.getFromKML(a);b.setMap(this.map);return b};GMaps.prototype.addLayer=function(c,b){b=b||{};var d;switch(c){case"weather":this.singleLayers.weather=d=new google.maps.weather.WeatherLayer();break;case"clouds":this.singleLayers.clouds=d=new google.maps.weather.CloudLayer();break;case"traffic":this.singleLayers.traffic=d=new google.maps.TrafficLayer();break;case"transit":this.singleLayers.transit=d=new google.maps.TransitLayer();break;case"bicycling":this.singleLayers.bicycling=d=new google.maps.BicyclingLayer();break;case"panoramio":this.singleLayers.panoramio=d=new google.maps.panoramio.PanoramioLayer();d.setTag(b.filter);delete b.filter;if(b.click){google.maps.event.addListener(d,"click",function(f){b.click(f);delete b.click})}break;case"places":this.singleLayers.places=d=new google.maps.places.PlacesService(this.map);if(b.search||b.nearbySearch||b.radarSearch){var a={bounds:b.bounds||null,keyword:b.keyword||null,location:b.location||null,name:b.name||null,radius:b.radius||null,rankBy:b.rankBy||null,types:b.types||null};if(b.radarSearch){d.radarSearch(a,b.radarSearch)}if(b.search){d.search(a,b.search)}if(b.nearbySearch){d.nearbySearch(a,b.nearbySearch)}}if(b.textSearch){var e={bounds:b.bounds||null,location:b.location||null,query:b.query||null,radius:b.radius||null};d.textSearch(e,b.textSearch)}break}if(d!==undefined){if(typeof d.setOptions=="function"){d.setOptions(b)}if(typeof d.setMap=="function"){d.setMap(this.map)}return d}};GMaps.prototype.removeLayer=function(b){if(typeof(b)=="string"&&this.singleLayers[b]!==undefined){this.singleLayers[b].setMap(null);delete this.singleLayers[b]}else{for(var a=0;a<this.layers.length;a++){if(this.layers[a]===b){this.layers[a].setMap(null);this.layers.splice(a,1);break}}}};