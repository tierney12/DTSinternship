GMaps.prototype.drawOverlay=function(b){var a=new google.maps.OverlayView(),c=true;a.setMap(this.map);if(b.auto_show!=null){c=b.auto_show}a.onAdd=function(){var g=document.createElement("div");g.style.borderStyle="none";g.style.borderWidth="0px";g.style.position="absolute";g.style.zIndex=100;g.innerHTML=b.content;a.el=g;if(!b.layer){b.layer="overlayLayer"}var f=this.getPanes(),d=f[b.layer],e=["contextmenu","DOMMouseScroll","dblclick","mousedown"];d.appendChild(g);for(var h=0;h<e.length;h++){(function(j,i){google.maps.event.addDomListener(j,i,function(k){if(navigator.userAgent.toLowerCase().indexOf("msie")!=-1&&document.all){k.cancelBubble=true;k.returnValue=false}else{k.stopPropagation()}})})(g,e[h])}if(b.click){f.overlayMouseTarget.appendChild(a.el);google.maps.event.addDomListener(a.el,"click",function(){b.click.apply(a,[a])})}google.maps.event.trigger(this,"ready")};a.draw=function(){var d=this.getProjection(),f=d.fromLatLngToDivPixel(new google.maps.LatLng(b.lat,b.lng));b.horizontalOffset=b.horizontalOffset||0;b.verticalOffset=b.verticalOffset||0;var g=a.el,h=g.children[0],e=h.clientHeight,i=h.clientWidth;switch(b.verticalAlign){case"top":g.style.top=(f.y-e+b.verticalOffset)+"px";break;default:case"middle":g.style.top=(f.y-(e/2)+b.verticalOffset)+"px";break;case"bottom":g.style.top=(f.y+b.verticalOffset)+"px";break}switch(b.horizontalAlign){case"left":g.style.left=(f.x-i+b.horizontalOffset)+"px";break;default:case"center":g.style.left=(f.x-(i/2)+b.horizontalOffset)+"px";break;case"right":g.style.left=(f.x+b.horizontalOffset)+"px";break}g.style.display=c?"block":"none";if(!c){b.show.apply(this,[g])}};a.onRemove=function(){var d=a.el;if(b.remove){b.remove.apply(this,[d])}else{a.el.parentNode.removeChild(a.el);a.el=null}};this.overlays.push(a);return a};GMaps.prototype.removeOverlay=function(a){for(var b=0;b<this.overlays.length;b++){if(this.overlays[b]===a){this.overlays[b].setMap(null);this.overlays.splice(b,1);break}}};GMaps.prototype.removeOverlays=function(){for(var a=0,b;b=this.overlays[a];a++){b.setMap(null)}this.overlays=[]};